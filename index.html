<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SbF5: Superacid Arcade</title>
    <style>
        :root {
            --acid-yellow: #FFD700;
            --fume-white: #F0F8FF;
            --corrosive-black: #1a1a1a;
            --container-gray: #4C4F4D; /* The "Antimony" Hex */
            --danger-red: #FF4500;
        }

        body {
            background-color: var(--corrosive-black);
            color: var(--fume-white);
            font-family: 'Courier New', monospace;
            margin: 0;
            overflow-x: hidden;
        }

        /* Fuming Effect Overlay */
        .fumes {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            background: radial-gradient(circle at 50% 50%, transparent 60%, rgba(255, 255, 255, 0.1) 100%);
            animation: pulseFume 5s infinite ease-in-out;
            z-index: 0;
        }

        @keyframes pulseFume {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        /* Header / Warning Label */
        header {
            background: repeating-linear-gradient(
                45deg,
                var(--acid-yellow),
                var(--acid-yellow) 10px,
                var(--corrosive-black) 10px,
                var(--corrosive-black) 20px
            );
            padding: 20px;
            text-align: center;
            border-bottom: 4px solid white;
            position: relative;
            z-index: 10;
        }

        h1 {
            background: var(--corrosive-black);
            color: var(--acid-yellow);
            display: inline-block;
            padding: 10px 20px;
            border: 2px solid white;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .warning-text {
            background-color: white;
            color: red;
            font-weight: bold;
            display: block;
            margin: 10px auto;
            max-width: 600px;
            padding: 5px;
        }

        /* Game Grid */
        .arcade-cabinet {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 10;
        }

        .game-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
            padding: 20px;
            text-align: center;
            border-radius: 8px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            border-color: var(--acid-yellow);
        }

        button {
            background: transparent;
            color: var(--acid-yellow);
            border: 2px solid var(--acid-yellow);
            padding: 10px 20px;
            font-family: inherit;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.2s;
        }

        button:hover {
            background: var(--acid-yellow);
            color: var(--corrosive-black);
        }

        /* Canvas Styles */
        canvas {
            background: #000;
            border: 2px solid var(--container-gray);
            display: block;
            margin: 10px auto;
        }

        /* Game Specific UI */
        #titration-count { font-size: 2em; color: var(--acid-yellow); }
    </style>
</head>
<body>

<div class="fumes"></div>

<header>
    <h1>SbF<sub>5</sub> Protocol</h1>
    <div class="warning-text">⚠ DANGER: HIGHLY REACTIVE LEWIS SUPERACID ⚠</div>
    <p>Do not expose to moisture. Reacts violently with boredom.</p>
</header>

<div class="arcade-cabinet">

    <div class="game-card">
        <h2>Fluorine Polymer Chain</h2>
        <p>Bind the free radicals. Do not touch the containment walls.</p>
        <canvas id="snakeCanvas" width="200" height="200"></canvas>
        <button onclick="startSnake()">Synthesize (Start)</button>
        <p id="snakeScore">Mass: 0 u</p>
    </div>

    <div class="game-card">
        <h2>Titration Clicker</h2>
        <p>Add drops of SbF5 to dissolve the substrate.</p>
        <div id="titration-count">0.0 mL</div>
        <button onclick="dripAcid()">Add Drop</button>
        <button onclick="buyPipette()" id="upgradeBtn" disabled>Buy Pipette (Cost: 10mL)</button>
    </div>

    <div class="game-card">
        <h2>Proton Exchange</h2>
        <p>Wait for the solution to turn YELLOW, then click reacting quickly!</p>
        <div id="reaction-box" style="width: 100%; height: 100px; background: #333; margin: 10px 0; display: flex; align-items: center; justify-content: center;">
            <span id="reaction-text">Stabilizing...</span>
        </div>
        <button onclick="startReaction()">Initialize</button>
    </div>

</div>

<script>
    // --- GAME 1: SNAKE (Polymer Chain) ---
    const canvas = document.getElementById('snakeCanvas');
    const ctx = canvas.getContext('2d');
    let snake = [{x: 10, y: 10}];
    let food = {x: 15, y: 15};
    let dx = 0;
    let dy = 0;
    let score = 0;
    let gameLoop;

    function startSnake() {
        snake = [{x: 10, y: 10}];
        dx = 1; dy = 0; score = 0;
        clearInterval(gameLoop);
        gameLoop = setInterval(updateSnake, 100);
        document.addEventListener('keydown', changeDirection);
    }

    function changeDirection(event) {
        const LEFT = 37; const RIGHT = 39; const UP = 38; const DOWN = 40;
        const key = event.keyCode;
        if (key === LEFT && dx !== 1) { dx = -1; dy = 0; }
        if (key === UP && dy !== 1) { dx = 0; dy = -1; }
        if (key === RIGHT && dx !== -1) { dx = 1; dy = 0; }
        if (key === DOWN && dy !== -1) { dx = 0; dy = 1; }
    }

    function updateSnake() {
        const head = {x: snake[0].x + dx, y: snake[0].y + dy};
        snake.unshift(head);

        if (head.x === food.x && head.y === food.y) {
            score += 10;
            document.getElementById('snakeScore').innerText = 'Mass: ' + score + ' u';
            food = {x: Math.floor(Math.random()*20), y: Math.floor(Math.random()*20)};
        } else {
            snake.pop();
        }

        ctx.fillStyle = '#1a1a1a';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        // Draw Snake (Viscous Green)
        ctx.fillStyle = '#00FF00'; 
        snake.forEach(part => ctx.fillRect(part.x*10, part.y*10, 9, 9));

        // Draw Food (Electron)
        ctx.fillStyle = '#FFD700';
        ctx.fillRect(food.x*10, food.y*10, 9, 9);

        if (head.x < 0 || head.x >= 20 || head.y < 0 || head.y >= 20) {
            clearInterval(gameLoop);
            alert("Containment Breach! Polymer destabilized.");
        }
    }

    // --- GAME 2: CLICKER (Titration) ---
    let volume = 0;
    let autoClicker = 0;

    function dripAcid() {
        volume += 1;
        updateTitrationUI();
    }

    function buyPipette() {
        if (volume >= 10) {
            volume -= 10;
            autoClicker++;
            updateTitrationUI();
            setInterval(() => { volume += 1; updateTitrationUI(); }, 1000);
        }
    }

    function updateTitrationUI() {
        document.getElementById('titration-count').innerText = volume.toFixed(1) + " mL";
        const btn = document.getElementById('upgradeBtn');
        if (volume >= 10) {
            btn.disabled = false;
            btn.innerText = "Buy Pipette (Cost: 10mL)";
        } else {
            btn.disabled = true;
        }
    }

    // --- GAME 3: REFLEX (Proton Exchange) ---
    const rBox = document.getElementById('reaction-box');
    const rText = document.getElementById('reaction-text');
    let reactionStartTime = 0;
    let isWaiting = false;

    function startReaction() {
        if (isWaiting) return; 
        isWaiting = true;
        rBox.style.background = '#333';
        rText.innerText = "Wait for YELLOW...";
        
        const randomDelay = Math.floor(Math.random() * 3000) + 1000;
        
        setTimeout(() => {
            rBox.style.background = '#FFD700';
            rText.innerText = "CLICK NOW!";
            rText.style.color = 'black';
            reactionStartTime = Date.now();
            rBox.onclick = endReaction;
        }, randomDelay);
    }

    function endReaction() {
        if (!isWaiting) return;
        const time = Date.now() - reactionStartTime;
        rText.innerText = `Reaction Time: ${time}ms`;
        rText.style.color = 'white';
        rBox.style.background = 'green';
        rBox.onclick = null;
        isWaiting = false;
    }
</script>

</body>
</html>